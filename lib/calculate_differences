#Calculare_differences is a function to compare land use plans and identify gaps and overlaps between adjacent polygons. Define land use plans in input_gdf and mask layer, that works as an indicator layer, in overlay_gdf

# Import the necessary libraries
import geopandas as gpd

# Load the Input and Overlay layers as GeoDataFrames from GeoPackage files
input_gdf = gpd.read_file(r'C:\Users\hamun\OneDrive\Työpöytä\VOOKA2\vooka_git\Difference\maski.gpkg', layer='maski')  # Replace with the path to your Input layer in the GeoPackage
overlay_gdf = gpd.read_file(r'C:\Users\hamun\OneDrive\Työpöytä\VOOKA2\vooka_git\Käsityö\kasityo.gpkg', layer='Kuopio_ak_rak_kunta')  # Replace with the path to your Overlay layer in the GeoPackage

# Perform the difference operation
result_gdf = gpd.overlay(input_gdf, overlay_gdf, how='difference')

# Save the result to a new GeoPackage file
result_gdf.to_file(r'C:\Users\hamun\OneDrive\Työpöytä\VOOKA2\vooka_git\Difference\tulos.gpkg', driver='GPKG', layer='Kuopio_ak_rak_kunta')  # Change the filename as needed